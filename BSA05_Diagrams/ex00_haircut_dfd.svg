<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2c3e50">
    DFD Уровень 0: Система онлайн-записи на услуги барбершопов
  </text>
  
  <!-- External Entities -->
  <!-- Client -->
  <rect x="50" y="100" width="120" height="60" fill="#e8f5e8" stroke="#2d5016" stroke-width="2"/>
  <text x="110" y="125" text-anchor="middle" font-size="12" font-weight="bold">Клиент</text>
  <text x="110" y="140" text-anchor="middle" font-size="10">(зарег./незарег.)</text>
  
  <!-- Manager -->
  <rect x="50" y="350" width="120" height="60" fill="#e8f5e8" stroke="#2d5016" stroke-width="2"/>
  <text x="110" y="375" text-anchor="middle" font-size="12" font-weight="bold">Менеджер</text>
  
  <!-- Master -->
  <rect x="50" y="600" width="120" height="60" fill="#e8f5e8" stroke="#2d5016" stroke-width="2"/>
  <text x="110" y="625" text-anchor="middle" font-size="12" font-weight="bold">Мастер</text>
  
  <!-- Accounting -->
  <rect x="1030" y="350" width="120" height="60" fill="#e8f5e8" stroke="#2d5016" stroke-width="2"/>
  <text x="1090" y="375" text-anchor="middle" font-size="12" font-weight="bold">Бухгалтерия</text>
  
  <!-- Processes -->
  <!-- Process 1: Manage Booking -->
  <ellipse cx="350" cy="130" rx="80" ry="40" fill="#ffeaa7" stroke="#b8860b" stroke-width="2"/>
  <text x="350" y="125" text-anchor="middle" font-size="11" font-weight="bold">1. Управлять</text>
  <text x="350" y="138" text-anchor="middle" font-size="11" font-weight="bold">записью</text>
  
  <!-- Process 2: Manage Schedule -->
  <ellipse cx="350" cy="300" rx="80" ry="40" fill="#ffeaa7" stroke="#b8860b" stroke-width="2"/>
  <text x="350" y="295" text-anchor="middle" font-size="11" font-weight="bold">2. Управлять</text>
  <text x="350" y="308" text-anchor="middle" font-size="11" font-weight="bold">расписанием</text>
  
  <!-- Process 3: Send Notifications -->
  <ellipse cx="600" cy="130" rx="80" ry="40" fill="#ffeaa7" stroke="#b8860b" stroke-width="2"/>
  <text x="600" y="125" text-anchor="middle" font-size="11" font-weight="bold">3. Отправлять</text>
  <text x="600" y="138" text-anchor="middle" font-size="11" font-weight="bold">уведомления</text>
  
  <!-- Process 4: Process Payments -->
  <ellipse cx="850" cy="300" rx="80" ry="40" fill="#ffeaa7" stroke="#b8860b" stroke-width="2"/>
  <text x="850" y="295" text-anchor="middle" font-size="11" font-weight="bold">4. Обрабатывать</text>
  <text x="850" y="308" text-anchor="middle" font-size="11" font-weight="bold">платежи</text>
  
  <!-- Process 5: Generate Reports -->
  <ellipse cx="600" cy="500" rx="80" ry="40" fill="#ffeaa7" stroke="#b8860b" stroke-width="2"/>
  <text x="600" y="495" text-anchor="middle" font-size="11" font-weight="bold">5. Формировать</text>
  <text x="600" y="508" text-anchor="middle" font-size="11" font-weight="bold">отчеты</text>
  
  <!-- Data Stores -->
  <!-- D1: Client Records -->
  <line x1="500" y1="200" x2="650" y2="200" stroke="#333" stroke-width="3"/>
  <line x1="500" y1="220" x2="650" y2="220" stroke="#333" stroke-width="3"/>
  <text x="575" y="215" text-anchor="middle" font-size="11" font-weight="bold">D1: Записи клиентов</text>
  
  <!-- D2: Master Schedule -->
  <line x1="500" y1="380" x2="650" y2="380" stroke="#333" stroke-width="3"/>
  <line x1="500" y1="400" x2="650" y2="400" stroke="#333" stroke-width="3"/>
  <text x="575" y="395" text-anchor="middle" font-size="11" font-weight="bold">D2: Расписание мастеров</text>
  
  <!-- D3: Client Data -->
  <line x1="250" y1="450" x2="400" y2="450" stroke="#333" stroke-width="3"/>
  <line x1="250" y1="470" x2="400" y2="470" stroke="#333" stroke-width="3"/>
  <text x="325" y="465" text-anchor="middle" font-size="11" font-weight="bold">D3: Данные клиентов</text>
  
  <!-- D4: Reviews -->
  <line x1="700" y1="580" x2="850" y2="580" stroke="#333" stroke-width="3"/>
  <line x1="700" y1="600" x2="850" y2="600" stroke="#333" stroke-width="3"/>
  <text x="775" y="595" text-anchor="middle" font-size="11" font-weight="bold">D4: Отзывы и оценки</text>
  
  <!-- D5: Payment Info -->
  <line x1="950" y1="380" x2="1100" y2="380" stroke="#333" stroke-width="3"/>
  <line x1="950" y1="400" x2="1100" y2="400" stroke="#333" stroke-width="3"/>
  <text x="1025" y="395" text-anchor="middle" font-size="11" font-weight="bold">D5: Платежная информация</text>
  
  <!-- Data Flows -->
  <!-- Client to Process 1 -->
  <line x1="170" y1="120" x2="270" y2="120" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="220" y="115" text-anchor="middle" font-size="9">заявка на запись</text>
  
  <!-- Process 1 to Client -->
  <line x1="280" y1="140" x2="180" y2="140" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="230" y="155" text-anchor="middle" font-size="9">подтверждение</text>
  
  <!-- Process 1 to D1 -->
  <line x1="400" y1="160" x2="520" y2="190" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Process 3 to Client -->
  <line x1="580" y1="100" x2="130" y2="80" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="350" y="75" text-anchor="middle" font-size="9">напоминания</text>
  
  <!-- Manager to Process 2 -->
  <line x1="170" y1="360" x2="270" y2="320" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="220" y="345" text-anchor="middle" font-size="9">расписание</text>
  
  <!-- Process 2 to D2 -->
  <line x1="400" y1="330" x2="500" y2="370" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Process 4 to Accounting -->
  <line x1="920" y1="320" x2="1030" y2="360" stroke="#2980b9" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="975" y="345" text-anchor="middle" font-size="9">данные об оплате</text>
  
  <!-- Client to Process 5 -->
  <line x1="150" y1="160" x2="550" y2="480" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="350" y="320" text-anchor="middle" font-size="9">отзыв, оценка</text>
  
  <!-- Master connections -->
  <line x1="170" y1="620" x2="520" y2="400" stroke="#8e44ad" stroke-width="2"/>
  <text x="345" y="510" text-anchor="middle" font-size="9">просмотр расписания</text>
  
  <line x1="180" y1="600" x2="520" y2="220" stroke="#8e44ad" stroke-width="2"/>
  <text x="350" y="410" text-anchor="middle" font-size="9">просмотр записей</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2980b9"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="50" y="720" width="300" height="60" fill="#f8f9fa" stroke="#333" stroke-width="1"/>
  <text x="60" y="735" font-size="10" font-weight="bold">Легенда:</text>
  <rect x="60" y="740" width="15" height="10" fill="#e8f5e8" stroke="#2d5016"/>
  <text x="80" y="748" font-size="9">Внешние сущности</text>
  <ellipse cx="67" cy="760" rx="8" ry="5" fill="#ffeaa7" stroke="#b8860b"/>
  <text x="80" y="763" font-size="9">Процессы</text>
  <line x1="60" y1="770" x2="75" y2="770" stroke="#333" stroke-width="2"/>
  <text x="80" y="773" font-size="9">Хранилища данных</text>
</svg>